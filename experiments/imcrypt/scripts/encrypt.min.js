importScripts("/scripts/utils.min.js"),onmessage=function(t){const e=t.data;let n=0,a=[];const s=e.stream().getReader();s.read().then(function t({done:o,value:r}){return o?a:(n+=r.length,postMessage(["progress","Loading file...",n/e.size*100]),a=a.concat(Array.from(r)),s.read().then(t))}).then(t=>{const e=Math.ceil(t.length/3),n=Math.ceil(Math.sqrt(e)),a=new Uint8ClampedArray(4*Math.pow(n,2));for(let e=0;e<t.length;e++){const n=e+Math.floor(e/3);a[n]=null!=t[e]?t[e]:0}for(let t=0;t<a.length;t++)t%4==3&&(a[t]=255);const s=new ImageData(a,n,n);postMessage(["done",s])})};